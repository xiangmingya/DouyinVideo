# Typecho 抖音视频嵌入插件

## 插件介绍

这是一个用于 Typecho 博客系统的抖音视频嵌入插件。通过这个插件，您可以轻松地在文章中嵌入抖音视频，只需要输入视频ID即可。

## 功能特性

- ✅ 支持通过视频ID嵌入抖音视频
- ✅ 在编辑器工具栏添加抖音按钮
- ✅ 可自定义视频播放器尺寸
- ✅ 支持自动播放设置
- ✅ 错误处理和友好提示
- ✅ 响应式设计，适配移动端

## 安装方法

1. 下载插件文件
2. 将 `DouyinVideo` 文件夹上传到 Typecho 的 `usr/plugins/` 目录下
3. 在 Typecho 后台的「控制台」→「插件管理」中激活此插件

## 使用方法

### 方法一：使用编辑器按钮

1. 在文章编辑页面，点击编辑器工具栏中的「抖音」按钮
2. 在弹出的对话框中输入抖音视频ID
3. 点击确定，系统会自动插入短代码

### 方法二：手动输入短代码

在文章中直接输入以下格式的短代码：

```
[VideoID=7146408143612******]
```

## 获取抖音视频ID

抖音视频ID可以从PC端视频播放地址中获取，例如：
- 抖音视频链接：`https://www.douyin.com/video/7146408143612******`
- 视频ID就是：`7146408143612******`

## 插件配置

在插件设置页面，您可以配置以下选项：

- **抖音开放平台域名**：默认为 `https://open.douyin.com`
- **视频宽度**：可设置像素值（如720）或百分比（如100%），默认100%
- **视频高度**：建议使用像素值，默认405px
- **自动播放**：是否启用视频自动播放，默认关闭
- **自定义CSS样式**：可以输入自定义的CSS代码来覆盖默认样式

### 自定义CSS样式示例

在"自定义CSS样式"文本框中，您可以输入CSS代码来个性化视频显示效果：

```css
/* 修改视频容器边距 */
.douyin-video-container {
    margin: 30px auto;
}

/* 修改视频圆角和阴影 */
.douyin-video-container iframe {
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

/* 自定义手机端样式 */
@media (max-width: 729px) {
    .douyin-video-container {
        width: min(350px, 100%) !important;
    }
}
```

## 注意事项

1. 该插件调用抖音开放平台的公开API，无需申请权限
2. 只支持公开状态的抖音视频，私密视频无法嵌入
3. 确保服务器支持 curl 扩展和外网访问
4. 视频加载失败时会显示友好的错误提示

## 系统要求

- Typecho 1.0+
- PHP 5.4+
- 支持 curl 扩展

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的抖音视频嵌入功能
- 添加编辑器按钮
- 支持自定义播放器尺寸和自动播放

## 技术支持

如果您在使用过程中遇到问题，请检查：

1. 视频ID是否正确
2. 视频是否为公开状态
3. 服务器网络是否正常
4. PHP curl 扩展是否开启

## 开源协议

本插件基于 MIT 协议开源。